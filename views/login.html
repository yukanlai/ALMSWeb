<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    ALMS
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!-- Fonts and icons -->
  <link href="../assets/css/font-awesome.min.css" rel="stylesheet" />
  <!-- CSS Files -->
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="../assets/css/alms.css" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <!-- <link href="../assets/demo/demo.css" rel="stylesheet" /> -->
</head>

<body>
  <div class="wrapper">
    <div class="page-main">
      <div class="content">
        <div class="card">
          <div class="card-header text-center">
            <h5 class="card-title">Login</h5>
            <p class="card-category">Use your employee ID</p>
          </div>
          <div class="card-body ">
            <form>
              <div class="row justify-content-center">
                <div class="col-md-10">
                  <div class="form-group">
                      <label for="input-userId">Employee ID</label>
                      <input type="text" id="input-userId" class="form-control" placeholder="ex: 0xxxxx">
                  </div>
                </div>
              </div>
              <div class="row justify-content-center">
                <div class="col-md-10">
                  <div class="form-group">
                      <label for="input-password">Password</label>
                      <input type="password" id="input-password" class="form-control"> 
                  </div>
                </div>
              </div>
              <div class="row justify-content-center">
                <button type="button" id="btn-login" class="btn btn-primary">Login</button>
              </div>
            </form>
          </div>
          <div class="card-footer">
            <!-- <div class="legend">
              <i class="fa fa-circle text-primary"></i> Opened
              <i class="fa fa-circle text-warning"></i> Read
            </div> -->
            <hr>
            <div class="row justify-content-md-center">
              <div class="col-md-10 text-right">
                  <i class="fa fa-circle text-warning"></i>
                  <span> Having trouble logging in?</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Core JS Files -->
  <script src="../assets/js/core/jquery.min.js"></script>
  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap.min.js"></script>
  <!-- JS Plugins -->
  <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <script src="../assets/js/plugins/chartjs.min.js"></script>
  <script src="../assets/js/plugins/bootstrap-notify.min.js"></script>
  <script src="../assets/js/plugins/jquery.blockUI.js"></script>
  <!-- Custom JS extensions -->
  <script src="../scripts/alms.utility.js" type="text/javascript"></script>
  <!-- Project Main JS File -->
  <script src="../scripts/alms.js" type="text/javascript"></script>
  <!-- Page Methods -->
  <script src="../scripts/login.js" type="text/javascript"></script>
  <!-- Paper Dashboard DEMO methods, don't include it in your project! -->
  <!-- <script src="../assets/demo/demo.js"></script> -->

  <script>
    $(document).ready(function(){
      $.alms.popup.warn("ttttttttttt");
      $.alms.popup.primary("ttttttttttt");
      $.alms.popup.error("ttttttttttt");
      $.alms.popup.success("ttttttttttt");
      $.alms.popup.info("ttttttttttt");
      
      // $.alms.popup.primary("testingtttttttttttttttttttttttttttttt tttttttttttttttttt ttttttttttttttt tttttttttttttttttt ttttttttttttttttttttt ttttt tttttttttttttt ttttt");

      // $.alms.popup.error("中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文中文");
      // $.alms.popup.primary("中文中文中文中文中文中文");

      extValidator.hookFeedback('#input-userId', "Required. Please enter alphanums.");
      extValidator.hookFeedback('#input-password', "Required");

      var checkValid = [false, false, false];

      $('#input-userId').on('blur', function(){
        var userId = $('#input-userId').val();

        if(!userId){
          checkValid[0] = false;
          extValidator.setInvalid($(this));
        }else{
          checkValid[0] = true;
          extValidator.setValid($(this));
        }

        if(!userId.match(/^[0-9a-zA-Z]+$/)){
          checkValid[1] = false;
          extValidator.setInvalid($(this));
        }else{
          checkValid[1] = true;
          extValidator.setValid($(this));
        }
      });

      $('#input-password').on('blur', function(){
        var password = $('#input-password').val();
        
        if(!password){
          checkValid[2] = false;
          extValidator.setInvalid($(this));
        }else{
          checkValid[2] = true;
          extValidator.setValid($(this));
        }          
      });

      $('#btn-login').on('click', function(e){
        if(checkValid.indexOf(false) > -1){
          e.preventDefault();
          e.stopPropagation();
          return;
        }

        var user = $('#input-userId').val();
        var password = $('#input-password').val();

        account.login(user, password);
      });

    });
  </script>
</body>

</html>
